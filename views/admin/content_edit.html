{% extends 'layout.html'%}

{% block main %}
<ol class="breadcrumb">
  <li><a href="/admin">管理首页</a></li>
  <li><span>内容修改<span><li>
</ol>
<h3>内容修改-{{content.title}}</h3>
<form role="form" method="post">
  <div class="form-group">
    <label for="title">分类:</label>
	  <select name="category" id="category">
	     <!-- 为什么category._id.toString()==category.id 但是value 必须用category._id.toString() 要不提交会报错 
       CastError: Cast to ObjectId failed for value "59392dd0cae38b45bc1f3e3d " at path "category"-->
       {%for category in categories%}}
         {%if content.category.id == category.id%} 
          <option value="{{category._id.toString()}}" name='category'  selected >{{category.name}}
          </option>
         {%else%}
          <option value="{{category._id.toString()}}" name='category' >{{category.name}}</option>
         {%endif%}	  	 
	  	 {%endfor%}	  	
	  </select>
  </div>
  <div class="form-group" >
    <label for="title">内容标题:</label>
    <input type="text" class="form-control" id="title" placeholder="请输入内容标题" name="title" value="{{content.title}}">
  </div>
  <div class="form-group" >
    <label for="description">简介:</label>
    <textarea name="description" class="form-control" id="description"  rows="10" placeholder="请输入内容简介">{{content.description}}</textarea>
  </div>
  <div class="form-group" >
    <label for="content">内容:</label>
    <textarea name="content" class="form-control" id="content"  rows="10" placeholder="请输入内容">{{content.content}}</textarea>
  </div>
  <button type="submit" class="btn btn-default">提交</button>
</form>
{% endblock %}